{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LenovO\\\\Documents\\\\OtherProjects\\\\ColumbariumManagementSystem\\\\frontend\\\\src\\\\pages\\\\dashboard.js\",\n  _s = $RefreshSig$();\nimport Icon from \"../components/icon\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport StatusTag from '../components/dashboard/statusTag';\nimport TabContent from '../components/dashboard/tabContent';\nimport LoadingPage from './loading';\nimport CreateNewElement from \"../components/dashboard/createNewElement\";\nimport EditElement from \"../components/dashboard/editElement\";\nimport AccountModal from \"../components/dashboard/accountModal\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction getCsrf() {\n  const cookies = document.cookie.split(';');\n  for (let i = 0; i < cookies.length; i++) {\n    const cookie = cookies[i].trim();\n    if (cookie.startsWith('csrftoken=')) {\n      return cookie.substring('csrftoken='.length, cookie.length);\n    }\n  }\n}\nexport default function DashboardPage() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const {\n    username,\n    setUsername\n  } = useAuth();\n  const [selectedTab, setSelectedTab] = useState(\"Payments\");\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [openCreateModal, setOpenCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedElements, setSelectedElements] = useState([]);\n  const [elementToEdit, setElementToEdit] = useState(null);\n  const [elements, setElements] = useState([]);\n  const [openAccountModal, setOpenAccountModal] = useState(false);\n  const accountModalRef = useRef(null);\n  const [filter, setFilter] = useState(\"\");\n  async function fetchItems(endpoint) {\n    setElements([]);\n    console.log(endpoint, \" fetching items.\");\n    try {\n      await fetch(`http://localhost:8000/api/${endpoint.toLowerCase()}/list-all/`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-Token': sessionStorage.getItem('token'),\n          'Authorization': `Session ${sessionStorage.getItem('token')}`\n        },\n        credentials: 'include'\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch items\");\n        } else {\n          return response.json();\n        }\n      }).then(data => {\n        // normalize server response keys to camelCase for consistent UI usage\n        const normalizeKey = s => s.replace(/_([a-z])/g, (_, c) => c.toUpperCase());\n        const normalizeObject = obj => {\n          if (obj === null || obj === undefined) return obj;\n          if (Array.isArray(obj)) return obj.map(normalizeObject);\n          if (typeof obj !== 'object') return obj;\n          const res = {};\n          Object.keys(obj).forEach(k => {\n            const newKey = normalizeKey(k);\n            const val = obj[k];\n            res[newKey] = normalizeObject(val);\n          });\n          return res;\n        };\n        const normalized = Array.isArray(data) ? data.map(normalizeObject) : data;\n        setElements(normalized);\n        console.log(\"Fetched items (normalized): \", normalized);\n      });\n    } catch (Exception) {\n      console.log(\"Error fetching items: \", Exception);\n    }\n  }\n  const handleEditClick = () => {\n    if (selectedElements.length === 1) {\n      setElementToEdit(elements.find(e => e.id === selectedElements[0]));\n      setShowEditModal(true);\n    }\n  };\n  async function handleRemoveSelected(e) {\n    e.preventDefault();\n    if (selectedElements.length === 0) return;\n    const endpoint = selectedTab.toLowerCase();\n    const confirmation = window.confirm(`Are you sure you want to delete ${selectedElements.length} items? This action cannot be undone.`);\n    if (confirmation) {\n      try {\n        await fetch(`http://localhost:8000/api/${endpoint}/delete/`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-Token': sessionStorage.getItem('token'),\n            'Authorization': `Session ${sessionStorage.getItem('token')}`,\n            'X-CSRFToken': getCsrf()\n          },\n          body: JSON.stringify({\n            element_ids: selectedElements\n          }),\n          credentials: 'include'\n        });\n      } catch (Exception) {\n        console.log(\"Error deleting items: \", Exception);\n      } finally {\n        setSelectedElements([]);\n        await fetchItems(selectedTab);\n      }\n    }\n  }\n  const handleEdit = async data => {\n    // close on both edit and cancel\n    setShowEditModal(false);\n    if (data === null) return;\n    const endpoint = selectedTab.toLowerCase();\n    try {\n      await fetch(`http://localhost:8000/api/${endpoint}/edit/?${endpoint.slice(0, -1)}_id=${elementToEdit.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-Token': sessionStorage.getItem('token'),\n          'Authorization': `Session ${sessionStorage.getItem('token')}`,\n          'X-CSRFToken': getCsrf()\n        },\n        body: JSON.stringify(data),\n        credentials: 'include'\n      }).then(response => {\n        if (!response.ok) {\n          console.log(\"Failed to edit item\");\n        }\n        return response.json();\n      }).then(data => {\n        console.log(data);\n      });\n    } catch (Exception) {} finally {\n      setSelectedElements([]);\n      setElementToEdit(null);\n      fetchItems(selectedTab);\n    }\n  };\n  const handleCreate = async data => {\n    // close on both create and cancel\n    setOpenCreateModal(false);\n\n    // cancel action (CreateNewElement calls onCreate(null) on cancel)\n    if (data === null) return;\n\n    // naive local-create: assign a new id and append to elements.\n    // In a real app you'd POST to the API and refresh from server.\n    /* const maxId = elements.reduce((m, it) => Math.max(m, it.id || 0), 0);\r\n     const newItem = { id: maxId + 1, ...data };\r\n     setElements((prev) => [newItem, ...prev]);\r\n     setSelectedElements([]); */\n\n    const endpoint = selectedTab.toLowerCase();\n    try {\n      await fetch(\"http://localhost:8000/api/\" + endpoint + \"/create-new/\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-Token': sessionStorage.getItem('token'),\n          'Authorization': `Session ${sessionStorage.getItem('token')}`,\n          'X-CSRFToken': getCsrf()\n        },\n        body: JSON.stringify(data),\n        credentials: 'include'\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(\"Failed to create item\");\n        }\n        return response.json();\n      }).then(data => {\n        console.log(data);\n      });\n      await fetchItems(selectedTab);\n    } catch (error) {\n      console.error(\"Error creating item: \", error);\n    }\n  };\n  useEffect(() => {\n    setFilter(\"\");\n    const storedUsername = username || sessionStorage.getItem('username');\n    if (storedUsername) {\n      setUsername(storedUsername);\n    }\n    fetchItems(selectedTab);\n    const loader = setTimeout(() => {\n      setLoading(false);\n    }, 800);\n    return () => {\n      clearTimeout(loader);\n    };\n  }, [username, selectedTab, setUsername]);\n\n  // for account modal\n  useEffect(() => {\n    function handleClickOutside(e) {\n      if (accountModalRef.current && !accountModalRef.current.contains(e.target)) {\n        setOpenAccountModal(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  });\n  const handleTabSelect = tab => {\n    setElements([]);\n    setSelectedElements([]);\n    setSelectedTab(tab);\n    setSearchQuery(\"\");\n\n    // fetch new items for the selected tab\n    console.log(\"Switching to tab:\", tab);\n    fetchItems(tab);\n  };\n\n  // fields config for CreateNewElement to avoid duplicating form markup\n  const fieldsByTab = {\n    Payments: [{\n      name: 'payer',\n      label: 'Payer Name',\n      type: 'text',\n      placeholder: 'Payer Name'\n    }, {\n      name: 'amount_due',\n      label: 'Amount Due',\n      type: 'number',\n      placeholder: 'Amount Due'\n    }, {\n      name: 'amount_paid',\n      label: 'Amount Paid',\n      type: 'number',\n      placeholder: 'Amount Paid'\n    }, {\n      name: 'maintenance_fee',\n      label: 'Maintenance Fee',\n      type: 'number',\n      placeholder: 'Maintenance Fee'\n    }, {\n      name: 'payment_date',\n      label: 'Date Paid',\n      type: 'date'\n    }],\n    Contacts: [{\n      name: 'family_name',\n      label: \"Family Name\",\n      type: 'text'\n    }, {\n      name: 'deceased_name',\n      label: \"Deceased's Name\",\n      type: 'text'\n    }, {\n      name: 'deceased_date',\n      label: \"Deceased Date\",\n      type: 'date'\n    }, {\n      name: 'address',\n      label: \"Address\",\n      type: 'textarea'\n    }, {\n      name: 'contact_number',\n      label: 'Contact Number',\n      type: 'text'\n    }],\n    Occupants: [{\n      name: 'name',\n      label: 'Name',\n      type: 'text'\n    }, {\n      name: 'interment_date',\n      label: 'Date of Interment',\n      type: 'date'\n    }, {\n      name: 'niche',\n      label: 'Niche',\n      type: 'text'\n    }],\n    Niches: [{\n      name: 'name',\n      label: \"Deceased's Name\",\n      type: 'text'\n    }, {\n      name: 'location',\n      label: 'Location',\n      type: 'text'\n    }, {\n      name: 'status',\n      label: 'Status',\n      type: 'select',\n      options: [{\n        value: '',\n        label: 'Select Status'\n      }, {\n        value: 'Available',\n        label: 'Available'\n      }, {\n        value: 'Occupied',\n        label: 'Occupied'\n      }]\n    }]\n  };\n  const handleSelectRow = id => {\n    console.log(id);\n    setSelectedElements(prev => prev.includes(id) ? prev.filter(ppid => ppid !== id) : [...prev, id]);\n  };\n  const handleSelectAll = checked => {\n    if (checked) setSelectedElements(elements.map(p => p.id));else setSelectedElements([]);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingPage, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen screen overflow-auto items-center flex flex-col bg-[#fbfbfb]\",\n    children: [/*#__PURE__*/_jsxDEV(\"title\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-w-[90%] min-h-[80%] max-w-[100%] max-h-[100%]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header bg-white w-full self-center flex flex-row justify-between mt-3 rounded-lg p-4 drop-shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              setSidebarOpen(!sidebarOpen);\n            },\n            className: \"p-2 text-[22px] rounded-full hover:bg-black/10 text-zinc-700 mr-4\",\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-bars\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 159\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-zinc-700\",\n            children: \"Columbarium Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"accountControl\",\n          className: \"flex flex-row items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setOpenAccountModal(!openAccountModal),\n            className: \"p-2 hover:underline text-md text-zinc-700 mr-4\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-user\",\n              className: \"mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 147\n            }, this), username !== \"\" ? username : \"User Not Found\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[100%] h-[85%] flex flex-row gap-3\",\n        children: [sidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar bg-white w-[18%] h-full self-start flex flex-col mt-3 rounded-lg p-4 drop-shadow-md gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTabSelect(\"Payments\"),\n            className: \"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-credit-card\",\n              className: \"mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 212\n            }, this), \"Payments\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTabSelect(\"Contacts\"),\n            className: \"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-address-book\",\n              className: \"mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 212\n            }, this), \"Contacts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTabSelect(\"Occupants\"),\n            className: \"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-box-open\",\n              className: \"mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 214\n            }, this), \"Occupants\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTabSelect(\"Niches\"),\n            className: \"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-square-person-confined\",\n              className: \"mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 210\n            }, this), \"Niches\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this), sessionStorage.getItem(\"permissions\").split(\",\").includes(\"view_audit\") && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTabSelect(\"Audit\"),\n            className: \"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-users\",\n              className: \"mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 285\n            }, this), \"Audit Logs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 101\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTabSelect(\"Report\"),\n            className: \"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"fa-solid fa-comments\",\n              className: \"mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 210\n            }, this), \"Report\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content transition-all duration-300 ease-out bg-white w-full h-full flex flex-col mt-3 rounded-lg p-4 drop-shadow-md overflow-auto\",\n          children: (() => {\n            const tabs = {\n              Payments: {\n                columns: [{\n                  label: \"\",\n                  key: \"_select\"\n                }, {\n                  label: \"Payment ID\",\n                  key: \"id\",\n                  type: 'number'\n                }, {\n                  label: \"Payer Name\",\n                  key: \"payer\",\n                  type: 'text'\n                }, {\n                  label: \"Amount Paid\",\n                  key: \"amountPaid\",\n                  type: 'number'\n                }, {\n                  label: \"Amount Due\",\n                  key: \"amount_due\",\n                  type: 'number'\n                }, {\n                  label: \"Remaining Balance\",\n                  key: \"remainingBalance\",\n                  type: 'number'\n                }, {\n                  label: \"Maintenance Fee\",\n                  key: \"maintenanceFee\",\n                  type: 'number'\n                }, {\n                  label: \"Date Paid\",\n                  key: \"payment_date\",\n                  type: 'date'\n                }, {\n                  label: \"Status\",\n                  key: \"status\",\n                  type: 'text'\n                }],\n                toolbarButtons: [{\n                  label: 'Add Payment',\n                  icon: 'fa-solid fa-plus',\n                  bg: 'bg-blue-500',\n                  textClass: 'text-white',\n                  onClick: () => setOpenCreateModal(true)\n                }, {\n                  label: 'Edit Selected',\n                  icon: 'fa-solid fa-pencil',\n                  onClick: e => {\n                    handleEditClick(e);\n                  }\n                }, {\n                  label: `(${selectedElements.length}) Remove Selected`,\n                  icon: 'fa fa-trash',\n                  bg: 'bg-red-500',\n                  textClass: 'text-white',\n                  onClick: e => {\n                    handleRemoveSelected(e);\n                  }\n                }],\n                rowRenderer: row => {\n                  var _ref, _row$payer, _ref2, _row$amountPaid, _ref3, _row$balance, _ref4, _row$remainingBalance, _ref5, _row$maintenanceFee, _ref6, _row$status;\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"#\", row.id.toString().padStart(3, \"0\")]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_ref = (_row$payer = row.payer) !== null && _row$payer !== void 0 ? _row$payer : row.payer_name) !== null && _ref !== void 0 ? _ref : row.payerName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"\\u20B1 \", Number((_ref2 = (_row$amountPaid = row.amountPaid) !== null && _row$amountPaid !== void 0 ? _row$amountPaid : row.amount_paid) !== null && _ref2 !== void 0 ? _ref2 : 0).toLocaleString(\"en-US\", {\n                        minimumFractionDigits: 2\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"\\u20B1 \", Number((_ref3 = (_row$balance = row.balance) !== null && _row$balance !== void 0 ? _row$balance : row.amount_due) !== null && _ref3 !== void 0 ? _ref3 : 0).toLocaleString(\"en-US\", {\n                        minimumFractionDigits: 2\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"\\u20B1 \", Number((_ref4 = (_row$remainingBalance = row.remainingBalance) !== null && _row$remainingBalance !== void 0 ? _row$remainingBalance : row.remaining_balance) !== null && _ref4 !== void 0 ? _ref4 : 0).toLocaleString(\"en-US\", {\n                        minimumFractionDigits: 2\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"\\u20B1 \", Number((_ref5 = (_row$maintenanceFee = row.maintenanceFee) !== null && _row$maintenanceFee !== void 0 ? _row$maintenanceFee : row.maintenance_fee) !== null && _ref5 !== void 0 ? _ref5 : 0).toLocaleString(\"en-US\", {\n                        minimumFractionDigits: 2\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: new Intl.DateTimeFormat('en-US').format(new Date(row.payment_date))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: /*#__PURE__*/_jsxDEV(StatusTag, {\n                        status: (_ref6 = (_row$status = row.status) !== null && _row$status !== void 0 ? _row$status : row.state) !== null && _ref6 !== void 0 ? _ref6 : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true);\n                }\n              },\n              Contacts: {\n                columns: [{\n                  label: \"\",\n                  key: \"_select\"\n                }, {\n                  label: \"Contact ID\",\n                  key: \"id\",\n                  type: 'number'\n                }, {\n                  label: \"Family Name\",\n                  key: \"familyName\",\n                  type: 'text'\n                }, {\n                  label: \"Deceased's Name\",\n                  key: \"deceasedName\",\n                  type: 'text'\n                }, {\n                  label: \"Deceased Date\",\n                  key: \"deceasedDate\",\n                  type: 'date'\n                }, {\n                  label: \"Address\",\n                  key: \"address\",\n                  type: 'text'\n                }, {\n                  label: \"Contact Number\",\n                  key: \"contactNumber\",\n                  type: 'text'\n                }],\n                toolbarButtons: [{\n                  label: 'Add Contact',\n                  icon: 'fa-solid fa-plus',\n                  bg: 'bg-blue-500',\n                  textClass: 'text-white',\n                  onClick: () => setOpenCreateModal(true)\n                }, {\n                  label: 'Edit Selected',\n                  icon: 'fa-solid fa-pencil',\n                  onClick: e => {\n                    handleEditClick(e);\n                  }\n                }, {\n                  label: `(${selectedElements.length}) Remove Selected`,\n                  icon: 'fa fa-trash',\n                  textClass: 'text-white',\n                  bg: 'bg-red-500 text-white',\n                  onClick: handleRemoveSelected\n                }],\n                rowRenderer: row => {\n                  var _row$id, _ref7, _row$familyName, _ref8, _row$deceasedName, _row$deceased_date, _row$address, _ref9, _row$contactNumber, _row$status2;\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"#\", ((_row$id = row.id) !== null && _row$id !== void 0 ? _row$id : '').toString().padStart(3, \"0\")]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_ref7 = (_row$familyName = row.familyName) !== null && _row$familyName !== void 0 ? _row$familyName : row.family_name) !== null && _ref7 !== void 0 ? _ref7 : row.family\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_ref8 = (_row$deceasedName = row.deceasedName) !== null && _row$deceasedName !== void 0 ? _row$deceasedName : row.deceased_name) !== null && _ref8 !== void 0 ? _ref8 : row.deceased\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: new Intl.DateTimeFormat('en-US').format(new Date((_row$deceased_date = row.deceased_date) !== null && _row$deceased_date !== void 0 ? _row$deceased_date : ''))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$address = row.address) !== null && _row$address !== void 0 ? _row$address : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_ref9 = (_row$contactNumber = row.contactNumber) !== null && _row$contactNumber !== void 0 ? _row$contactNumber : row.contact_number) !== null && _ref9 !== void 0 ? _ref9 : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: /*#__PURE__*/_jsxDEV(StatusTag, {\n                        status: (_row$status2 = row.status) !== null && _row$status2 !== void 0 ? _row$status2 : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true);\n                }\n              },\n              Occupants: {\n                columns: [{\n                  label: \"\",\n                  key: \"_select\"\n                }, {\n                  label: \"Occupant ID\",\n                  key: \"id\",\n                  type: 'number'\n                }, {\n                  label: \"Name\",\n                  key: \"name\",\n                  type: 'text'\n                }, {\n                  label: \"Date of Interment\",\n                  key: \"dateOfInterment\",\n                  type: 'date'\n                }, {\n                  label: \"Niche\",\n                  key: \"niche\",\n                  type: 'text'\n                }],\n                toolbarButtons: [{\n                  label: 'Add Occupant',\n                  icon: 'fa-solid fa-plus',\n                  bg: 'bg-blue-500',\n                  textClass: 'text-white',\n                  onClick: () => setOpenCreateModal(true)\n                }, {\n                  label: 'Edit Selected',\n                  icon: 'fa-solid fa-pencil',\n                  onClick: e => {\n                    handleEditClick(e);\n                  }\n                }, {\n                  label: `(${selectedElements.length}) Remove Selected`,\n                  icon: 'fa fa-trash',\n                  bg: 'bg-red-500',\n                  textClass: 'text-white',\n                  onClick: handleRemoveSelected\n                }],\n                rowRenderer: row => {\n                  var _row$id2, _ref0, _row$name, _Intl$DateTimeFormat$, _row$niche;\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"#\", ((_row$id2 = row.id) !== null && _row$id2 !== void 0 ? _row$id2 : '').toString().padStart(3, \"0\")]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_ref0 = (_row$name = row.name) !== null && _row$name !== void 0 ? _row$name : row.full_name) !== null && _ref0 !== void 0 ? _ref0 : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_Intl$DateTimeFormat$ = new Intl.DateTimeFormat('en-US').format(new Date(row.interment_date))) !== null && _Intl$DateTimeFormat$ !== void 0 ? _Intl$DateTimeFormat$ : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$niche = row.niche) !== null && _row$niche !== void 0 ? _row$niche : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true);\n                }\n              },\n              Niches: {\n                columns: [{\n                  label: \"\",\n                  key: \"_select\"\n                }, {\n                  label: \"Niche ID\",\n                  key: \"id\",\n                  type: 'number'\n                }, {\n                  label: \"Deceased's Name\",\n                  key: \"name\",\n                  type: 'text'\n                }, {\n                  label: \"Location\",\n                  key: \"location\",\n                  type: 'text'\n                }, {\n                  label: \"Status\",\n                  key: \"status\",\n                  type: 'text'\n                }],\n                toolbarButtons: [{\n                  label: 'Add Niche',\n                  icon: 'fa-solid fa-plus',\n                  bg: 'bg-blue-500',\n                  textClass: 'text-white',\n                  onClick: () => setOpenCreateModal(true)\n                }, {\n                  label: 'Edit Selected',\n                  icon: 'fa-solid fa-pencil',\n                  onClick: () => {}\n                }, {\n                  label: `(${selectedElements.length}) Remove Selected`,\n                  icon: 'fa fa-trash',\n                  bg: 'bg-red-500',\n                  textClass: 'text-white',\n                  onClick: () => {}\n                }],\n                rowRenderer: row => {\n                  var _row$id3, _ref1, _row$name2, _row$location, _row$status3;\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"#\", ((_row$id3 = row.id) !== null && _row$id3 !== void 0 ? _row$id3 : '').toString().padStart(3, \"0\")]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_ref1 = (_row$name2 = row.name) !== null && _row$name2 !== void 0 ? _row$name2 : row.deceased_name) !== null && _ref1 !== void 0 ? _ref1 : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$location = row.location) !== null && _row$location !== void 0 ? _row$location : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: /*#__PURE__*/_jsxDEV(StatusTag, {\n                        status: (_row$status3 = row.status) !== null && _row$status3 !== void 0 ? _row$status3 : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true);\n                }\n              },\n              Audit: {\n                columns: [{\n                  label: \"User\",\n                  key: \"user\",\n                  type: 'text'\n                }, {\n                  label: \"Role\",\n                  key: \"role\",\n                  type: 'text'\n                }, {\n                  label: \"IP Address\",\n                  key: \"ip_address\",\n                  type: 'text'\n                }, {\n                  label: \"Object ID\",\n                  key: \"object_id\",\n                  type: 'text'\n                }, {\n                  label: \"Action\",\n                  key: \"action\",\n                  type: 'text'\n                }, {\n                  label: \"Application\",\n                  key: \"app\",\n                  type: 'text'\n                }, {\n                  label: \"URL\",\n                  key: \"path\",\n                  type: 'text'\n                }, {\n                  label: \"Timestamp\",\n                  key: \"timestamp\",\n                  type: 'date'\n                }],\n                toolbarButtons: [],\n                rowRenderer: row => {\n                  var _row$user, _row$role, _row$ip_address, _row$response_data$id, _row$response_data, _row$action, _row$app, _row$path;\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$user = row.user) !== null && _row$user !== void 0 ? _row$user : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$role = row.role) !== null && _row$role !== void 0 ? _row$role : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$ip_address = row.ip_address) !== null && _row$ip_address !== void 0 ? _row$ip_address : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$response_data$id = (_row$response_data = row.response_data) === null || _row$response_data === void 0 ? void 0 : _row$response_data.id) !== null && _row$response_data$id !== void 0 ? _row$response_data$id : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$action = row.action) !== null && _row$action !== void 0 ? _row$action : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$app = row.app) !== null && _row$app !== void 0 ? _row$app : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: (_row$path = row.path) !== null && _row$path !== void 0 ? _row$path : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 459,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: new Intl.DateTimeFormat('en-US', {\n                        year: 'numeric',\n                        month: 'numeric',\n                        day: 'numeric',\n                        hour: 'numeric',\n                        minute: 'numeric',\n                        second: 'numeric'\n                      }).format(new Date(row.timestamp))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true);\n                }\n              }\n              // Add other tabs here\n            };\n            const cfg = tabs[selectedTab];\n            if (!cfg) return null;\n            return /*#__PURE__*/_jsxDEV(TabContent, {\n              title: selectedTab,\n              searchQuery: searchQuery,\n              onSearchChange: setSearchQuery,\n              toolbarButtons: cfg.toolbarButtons,\n              columns: cfg.columns,\n              data: elements.length > 0 ? elements : [],\n              selectedItems: selectedElements,\n              onSelectAll: handleSelectAll,\n              onSelectRow: handleSelectRow,\n              getRowKey: row => row.id,\n              onFilterChange: value => setFilter(value),\n              children: cfg.rowRenderer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this);\n          })()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this), openCreateModal && /*#__PURE__*/_jsxDEV(CreateNewElement, {\n      tab: selectedTab,\n      onCreate: handleCreate,\n      fields: fieldsByTab[selectedTab]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 34\n    }, this), showEditModal && /*#__PURE__*/_jsxDEV(EditElement, {\n      tab: selectedTab,\n      elementData: elementToEdit,\n      fields: fieldsByTab[selectedTab],\n      onEdit: handleEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 32\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: accountModalRef,\n      children: /*#__PURE__*/_jsxDEV(AccountModal, {\n        isOpen: openAccountModal,\n        username: username,\n        role: sessionStorage.getItem(\"role\") || 'Staff'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 9\n  }, this);\n}\n_s(DashboardPage, \"PxUmm+RcY8YurBK/ka8h0gO3jws=\", false, function () {\n  return [useAuth];\n});\n_c = DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["Icon","useState","useEffect","useRef","useAuth","StatusTag","TabContent","LoadingPage","CreateNewElement","EditElement","AccountModal","jsxDEV","_jsxDEV","Fragment","_Fragment","getCsrf","cookies","document","cookie","split","i","length","trim","startsWith","substring","DashboardPage","_s","loading","setLoading","username","setUsername","selectedTab","setSelectedTab","sidebarOpen","setSidebarOpen","searchQuery","setSearchQuery","openCreateModal","setOpenCreateModal","showEditModal","setShowEditModal","selectedElements","setSelectedElements","elementToEdit","setElementToEdit","elements","setElements","openAccountModal","setOpenAccountModal","accountModalRef","filter","setFilter","fetchItems","endpoint","console","log","fetch","toLowerCase","method","headers","sessionStorage","getItem","credentials","then","response","ok","Error","json","data","normalizeKey","s","replace","_","c","toUpperCase","normalizeObject","obj","undefined","Array","isArray","map","res","Object","keys","forEach","k","newKey","val","normalized","Exception","handleEditClick","find","e","id","handleRemoveSelected","preventDefault","confirmation","window","confirm","body","JSON","stringify","element_ids","handleEdit","slice","handleCreate","error","storedUsername","loader","setTimeout","clearTimeout","handleClickOutside","current","contains","target","addEventListener","removeEventListener","handleTabSelect","tab","fieldsByTab","Payments","name","label","type","placeholder","Contacts","Occupants","Niches","options","value","handleSelectRow","prev","includes","ppid","handleSelectAll","checked","p","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","icon","tabs","columns","key","toolbarButtons","bg","textClass","rowRenderer","row","_ref","_row$payer","_ref2","_row$amountPaid","_ref3","_row$balance","_ref4","_row$remainingBalance","_ref5","_row$maintenanceFee","_ref6","_row$status","toString","padStart","payer","payer_name","payerName","Number","amountPaid","amount_paid","toLocaleString","minimumFractionDigits","balance","amount_due","remainingBalance","remaining_balance","maintenanceFee","maintenance_fee","Intl","DateTimeFormat","format","Date","payment_date","status","state","_row$id","_ref7","_row$familyName","_ref8","_row$deceasedName","_row$deceased_date","_row$address","_ref9","_row$contactNumber","_row$status2","familyName","family_name","family","deceasedName","deceased_name","deceased","deceased_date","address","contactNumber","contact_number","_row$id2","_ref0","_row$name","_Intl$DateTimeFormat$","_row$niche","full_name","interment_date","niche","_row$id3","_ref1","_row$name2","_row$location","_row$status3","location","Audit","_row$user","_row$role","_row$ip_address","_row$response_data$id","_row$response_data","_row$action","_row$app","_row$path","user","role","ip_address","response_data","action","app","path","year","month","day","hour","minute","second","timestamp","cfg","title","onSearchChange","selectedItems","onSelectAll","onSelectRow","getRowKey","onFilterChange","onCreate","fields","elementData","onEdit","ref","isOpen","_c","$RefreshReg$"],"sources":["C:/Users/LenovO/Documents/OtherProjects/ColumbariumManagementSystem/frontend/src/pages/dashboard.js"],"sourcesContent":["import Icon from \"../components/icon\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport StatusTag from '../components/dashboard/statusTag';\r\nimport TabContent from '../components/dashboard/tabContent';\r\n\r\nimport LoadingPage from './loading';\r\nimport CreateNewElement from \"../components/dashboard/createNewElement\";\r\nimport EditElement from \"../components/dashboard/editElement\";\r\nimport AccountModal from \"../components/dashboard/accountModal\";\r\n\r\nfunction getCsrf() {\r\n    const cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n        const cookie = cookies[i].trim();\r\n        if (cookie.startsWith('csrftoken=')) {\r\n            return cookie.substring('csrftoken='.length, cookie.length);\r\n        }\r\n    }\r\n}\r\n\r\nexport default function DashboardPage() {\r\n    const [loading, setLoading] = useState(true);\r\n    const { username, setUsername } = useAuth();\r\n    const [selectedTab, setSelectedTab] = useState(\"Payments\");\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [openCreateModal, setOpenCreateModal] = useState(false);\r\n    const [showEditModal, setShowEditModal] = useState(false);\r\n\r\n    const [selectedElements, setSelectedElements] = useState([]);\r\n    const [elementToEdit, setElementToEdit] = useState(null);\r\n    const [elements, setElements] = useState([])\r\n\r\n    const [openAccountModal, setOpenAccountModal] = useState(false);\r\n    const accountModalRef = useRef(null);\r\n    const [filter, setFilter] = useState(\"\");\r\n    \r\n    async function fetchItems(endpoint) {\r\n        setElements([]);\r\n        console.log(endpoint, \" fetching items.\");\r\n        try {\r\n            await fetch (`http://localhost:8000/api/${endpoint.toLowerCase()}/list-all/`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Session-Token': sessionStorage.getItem('token'),\r\n                    'Authorization': `Session ${sessionStorage.getItem('token')}`\r\n                },\r\n                credentials: 'include',\r\n            }).then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"Failed to fetch items\");\r\n                } else {\r\n                    return response.json();\r\n                }\r\n            }).then(data => {\r\n                // normalize server response keys to camelCase for consistent UI usage\r\n                const normalizeKey = (s) => s.replace(/_([a-z])/g, (_, c) => c.toUpperCase());\r\n\r\n                const normalizeObject = (obj) => {\r\n                    if (obj === null || obj === undefined) return obj;\r\n                    if (Array.isArray(obj)) return obj.map(normalizeObject);\r\n                    if (typeof obj !== 'object') return obj;\r\n                    const res = {};\r\n                    Object.keys(obj).forEach(k => {\r\n                        const newKey = normalizeKey(k);\r\n                        const val = obj[k];\r\n                        res[newKey] = normalizeObject(val);\r\n                    });\r\n                    return res;\r\n                }\r\n\r\n                const normalized = Array.isArray(data) ? data.map(normalizeObject) : data;\r\n                setElements(normalized);\r\n                console.log(\"Fetched items (normalized): \", normalized);\r\n            })\r\n        } catch (Exception) {\r\n            console.log(\"Error fetching items: \", Exception);\r\n        }\r\n    }\r\n\r\n    const handleEditClick = () => {\r\n         if (selectedElements.length === 1) {\r\n            setElementToEdit(elements.find(e => e.id === selectedElements[0]))\r\n            setShowEditModal(true);\r\n            }\r\n        }\r\n    \r\n\r\n    async function handleRemoveSelected(e) {\r\n        e.preventDefault();\r\n\r\n        if (selectedElements.length === 0) return;\r\n\r\n        const endpoint = selectedTab.toLowerCase();\r\n\r\n        const confirmation = window.confirm(`Are you sure you want to delete ${selectedElements.length} items? This action cannot be undone.`);\r\n\r\n        if (confirmation) {\r\n            try {\r\n                await fetch(`http://localhost:8000/api/${endpoint}/delete/`, {\r\n                    method: 'DELETE',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Session-Token': sessionStorage.getItem('token'),\r\n                        'Authorization': `Session ${sessionStorage.getItem('token')}`,\r\n                        'X-CSRFToken': getCsrf(),\r\n                    },\r\n                    body: JSON.stringify({ element_ids: selectedElements }),\r\n                    credentials: 'include',\r\n                })\r\n            } catch (Exception) {\r\n                console.log(\"Error deleting items: \", Exception);\r\n            } finally {\r\n                setSelectedElements([]);\r\n\r\n                await fetchItems(selectedTab);\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleEdit = async(data) => {\r\n        // close on both edit and cancel\r\n        setShowEditModal(false);\r\n        if (data === null) return;\r\n\r\n        const endpoint = selectedTab.toLowerCase();\r\n\r\n        try {\r\n            await fetch(`http://localhost:8000/api/${endpoint}/edit/?${endpoint.slice(0, -1)}_id=${elementToEdit.id}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Session-Token': sessionStorage.getItem('token'),\r\n                    'Authorization': `Session ${sessionStorage.getItem('token')}`,\r\n                    'X-CSRFToken': getCsrf(),\r\n                },\r\n                body: JSON.stringify(data),\r\n                credentials: 'include',\r\n            }).then(response => {\r\n                if (!response.ok) {\r\n                    console.log(\"Failed to edit item\")\r\n                }\r\n\r\n                return response.json();\r\n            }).then(data => {\r\n                console.log(data);\r\n            })\r\n        } catch (Exception) {\r\n\r\n        } finally {\r\n            setSelectedElements([]);\r\n            setElementToEdit(null);\r\n            fetchItems(selectedTab);\r\n        }\r\n    }\r\n\r\n    const handleCreate = async (data) => {\r\n        // close on both create and cancel\r\n        setOpenCreateModal(false);\r\n\r\n        // cancel action (CreateNewElement calls onCreate(null) on cancel)\r\n        if (data === null) return;\r\n\r\n        // naive local-create: assign a new id and append to elements.\r\n        // In a real app you'd POST to the API and refresh from server.\r\n       /* const maxId = elements.reduce((m, it) => Math.max(m, it.id || 0), 0);\r\n        const newItem = { id: maxId + 1, ...data };\r\n        setElements((prev) => [newItem, ...prev]);\r\n        setSelectedElements([]); */\r\n\r\n        const endpoint = selectedTab.toLowerCase();\r\n        try {\r\n            await fetch(\"http://localhost:8000/api/\" + endpoint + \"/create-new/\", {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Session-Token': sessionStorage.getItem('token'),\r\n                    'Authorization': `Session ${sessionStorage.getItem('token')}`,\r\n                    'X-CSRFToken': getCsrf(),\r\n                },\r\n                body: JSON.stringify(data),\r\n                credentials: 'include',\r\n            }).then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"Failed to create item\");\r\n                }\r\n\r\n                return response.json();\r\n            }).then(data => {\r\n                console.log(data);\r\n            })\r\n\r\n            await fetchItems(selectedTab);\r\n        } catch (error) {\r\n            console.error(\"Error creating item: \", error);\r\n        }\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n        setFilter(\"\");\r\n       const storedUsername = username || sessionStorage.getItem('username');\r\n       if (storedUsername) {\r\n           setUsername(storedUsername);\r\n       }\r\n\r\n       fetchItems(selectedTab);\r\n\r\n       const loader = setTimeout(() => {\r\n           setLoading(false);\r\n       }, 800);\r\n\r\n       return () => {\r\n           clearTimeout(loader);\r\n                \r\n       }\r\n    }, [username, selectedTab, setUsername])\r\n\r\n    // for account modal\r\n    useEffect(() => {\r\n        \r\n        function handleClickOutside(e) {\r\n           if (accountModalRef.current &&\r\n               !accountModalRef.current.contains(e.target)\r\n           ) {\r\n               setOpenAccountModal(false);\r\n           }\r\n        }\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    })\r\n\r\n    const handleTabSelect = (tab) => {\r\n        setElements([])\r\n        setSelectedElements([]);\r\n        setSelectedTab(tab);\r\n        setSearchQuery(\"\");\r\n\r\n        // fetch new items for the selected tab\r\n        console.log(\"Switching to tab:\", tab)\r\n        fetchItems(tab);\r\n    }\r\n\r\n    // fields config for CreateNewElement to avoid duplicating form markup\r\n    const fieldsByTab = {\r\n        Payments: [\r\n            { name: 'payer', label: 'Payer Name', type: 'text', placeholder: 'Payer Name' },\r\n            { name: 'amount_due', label: 'Amount Due', type: 'number', placeholder: 'Amount Due' },\r\n            { name: 'amount_paid', label: 'Amount Paid', type: 'number', placeholder: 'Amount Paid' },\r\n            { name: 'maintenance_fee', label: 'Maintenance Fee', type: 'number', placeholder: 'Maintenance Fee' },\r\n            { name: 'payment_date', label: 'Date Paid', type: 'date' },\r\n        ],\r\n        Contacts: [\r\n            { name: 'family_name', label: \"Family Name\", type: 'text' },\r\n            { name: 'deceased_name', label: \"Deceased's Name\", type: 'text' },\r\n            { name: 'deceased_date', label: \"Deceased Date\", type: 'date' },\r\n            { name: 'address', label: \"Address\", type: 'textarea' },\r\n            { name: 'contact_number', label: 'Contact Number', type: 'text' },\r\n        ],\r\n        Occupants: [\r\n            { name: 'name', label: 'Name', type: 'text' },\r\n            { name: 'interment_date', label: 'Date of Interment', type: 'date' },\r\n            { name: 'niche', label: 'Niche', type: 'text' },\r\n        ],\r\n        Niches: [\r\n            { name: 'name', label: \"Deceased's Name\", type: 'text' },\r\n            { name: 'location', label: 'Location', type: 'text' },\r\n            { name: 'status', label: 'Status', type: 'select', options: [\r\n                { value: '', label: 'Select Status' },\r\n                { value: 'Available', label: 'Available' },\r\n                { value: 'Occupied', label: 'Occupied' },\r\n            ] },\r\n        ],\r\n    };\r\n\r\n    const handleSelectRow = (id) => {\r\n        console.log(id);\r\n        setSelectedElements((prev) => \r\n            prev.includes(id) ? prev.filter((ppid) => ppid !== id) : [...prev, id]\r\n        )\r\n    }\r\n    \r\n    const handleSelectAll = (checked) => {\r\n        if (checked) setSelectedElements(elements.map((p) => p.id));\r\n        else setSelectedElements([]);\r\n    }\r\n\r\n    if (loading) return <LoadingPage />;    \r\n\r\n    return (\r\n        <div className=\"min-h-screen screen overflow-auto items-center flex flex-col bg-[#fbfbfb]\">\r\n            <title>Dashboard</title>\r\n            <div className=\"min-w-[90%] min-h-[80%] max-w-[100%] max-h-[100%]\">\r\n                <div className=\"header bg-white w-full self-center flex flex-row justify-between mt-3 rounded-lg p-4 drop-shadow-md\">\r\n                    <div className=\"flex flex-row items-center\">\r\n                        <button onClick={(e) => {setSidebarOpen(!sidebarOpen)}} className=\"p-2 text-[22px] rounded-full hover:bg-black/10 text-zinc-700 mr-4\"><Icon icon=\"fa-solid fa-bars\"></Icon></button>\r\n                        <h1 className=\"text-3xl font-bold text-zinc-700\">Columbarium Dashboard</h1>\r\n                    </div>\r\n                    <div id=\"accountControl\" className=\"flex flex-row items-center\">\r\n                        <button onClick={() => setOpenAccountModal(!openAccountModal)} className=\"p-2 hover:underline text-md text-zinc-700 mr-4\"><Icon icon=\"fa-solid fa-user\" className=\"mr-3\"></Icon>{username !== \"\" ? username : \"User Not Found\"}</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"w-[100%] h-[85%] flex flex-row gap-3\">\r\n                    {/* Sidebar */}\r\n                    { sidebarOpen &&\r\n                    <div className=\"sidebar bg-white w-[18%] h-full self-start flex flex-col mt-3 rounded-lg p-4 drop-shadow-md gap-1\">\r\n\r\n                        {/* Tabs */}\r\n                        <button onClick={() => handleTabSelect(\"Payments\")} className=\"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\"><Icon icon=\"fa-solid fa-credit-card\" className=\"mr-3\"></Icon>Payments</button>\r\n\r\n                        <button onClick={() => handleTabSelect(\"Contacts\")} className=\"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\"><Icon icon=\"fa-solid fa-address-book\" className=\"mr-3\"></Icon>Contacts</button>\r\n\r\n                        <button onClick={ () => handleTabSelect(\"Occupants\")} className=\"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\"><Icon icon=\"fa-solid fa-box-open\" className=\"mr-3\"></Icon>Occupants</button>\r\n\r\n                        <button onClick={() => handleTabSelect(\"Niches\")} className=\"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\"><Icon icon=\"fa-solid fa-square-person-confined\" className=\"mr-3\"></Icon>Niches</button>\r\n                        \r\n                        {/* Audit Logs*/}\r\n                        {sessionStorage.getItem(\"permissions\").split(\",\").includes(\"view_audit\") && <button onClick={() => handleTabSelect(\"Audit\")} className=\"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\"><Icon icon=\"fa-solid fa-users\" className=\"mr-3\"></Icon>Audit Logs</button>}\r\n\r\n                        <button onClick={() => handleTabSelect(\"Report\")} className=\"p-2 py-3 border-b border-black/5 transition-all duration-500 ease-out text-left rounded-sm hover:bg-black/10 text-zinc-700\"><Icon icon=\"fa-solid fa-comments\" className=\"mr-3\"></Icon>Report</button>\r\n                    </div>}\r\n\r\n                    \r\n                    {/* Main Content */}\r\n                    <div className=\"content transition-all duration-300 ease-out bg-white w-full h-full flex flex-col mt-3 rounded-lg p-4 drop-shadow-md overflow-auto\">\r\n\r\n                        {/* Dynamic Tab Content rendered from a small config to keep things DRY */}\r\n                        {(() => {\r\n                            const tabs = {\r\n                                Payments: {\r\n                                    columns: [\r\n                                        { label: \"\", key: \"_select\" },\r\n                                        { label: \"Payment ID\", key: \"id\", type: 'number' },\r\n                                        { label: \"Payer Name\", key: \"payer\", type: 'text' },\r\n                                        { label: \"Amount Paid\", key: \"amountPaid\", type: 'number' },\r\n                                        { label: \"Amount Due\", key: \"amount_due\", type: 'number' },\r\n                                        { label: \"Remaining Balance\", key: \"remainingBalance\", type: 'number' },\r\n                                        { label: \"Maintenance Fee\", key: \"maintenanceFee\", type: 'number' },\r\n                                        { label: \"Date Paid\", key: \"payment_date\", type: 'date' },\r\n                                        { label: \"Status\", key: \"status\", type: 'text' }\r\n                                    ],\r\n                                    toolbarButtons: [\r\n                                        { label: 'Add Payment', icon: 'fa-solid fa-plus', bg: 'bg-blue-500', textClass: 'text-white', onClick: () => setOpenCreateModal(true) },\r\n                                        { label: 'Edit Selected', icon: 'fa-solid fa-pencil', onClick: (e) => { handleEditClick(e) } },\r\n                                        { label: `(${selectedElements.length}) Remove Selected`, icon: 'fa fa-trash', bg: 'bg-red-500', textClass: 'text-white', onClick: (e) => { handleRemoveSelected(e) } },\r\n                                    ],\r\n                                    rowRenderer: (row) => (\r\n                                        <>\r\n                                            <td className=\"p-2\">#{row.id.toString().padStart(3, \"0\")}</td>\r\n                                            <td className=\"p-2\">{row.payer ?? row.payer_name ?? row.payerName}</td>\r\n                                            <td className=\"p-2\"> {Number(row.amountPaid ?? row.amount_paid ?? 0).toLocaleString(\"en-US\", {minimumFractionDigits: 2 })}</td>\r\n                                            <td className=\"p-2\"> {Number(row.balance ?? row.amount_due ?? 0).toLocaleString(\"en-US\", { minimumFractionDigits: 2 })}</td>\r\n                                            <td className=\"p-2\"> {Number(row.remainingBalance ?? row.remaining_balance ?? 0).toLocaleString(\"en-US\", { minimumFractionDigits: 2 })}</td>\r\n                                            <td className=\"p-2\"> {Number(row.maintenanceFee ?? row.maintenance_fee ?? 0).toLocaleString(\"en-US\", { minimumFractionDigits: 2 })}</td>\r\n                                            <td className=\"p-2\">{new Intl.DateTimeFormat('en-US').format(new Date(row.payment_date))}</td>\r\n                                            <td className=\"p-2\"><StatusTag status={row.status ?? row.state ?? ''} />\r\n                                    </td>\r\n                                        </>\r\n                                    )\r\n                                },\r\n                                Contacts: {\r\n                                    columns: [\r\n                                        { label: \"\", key: \"_select\" },\r\n                                        { label: \"Contact ID\", key: \"id\", type: 'number' },\r\n                                        { label: \"Family Name\", key: \"familyName\", type: 'text' },\r\n                                        { label: \"Deceased's Name\", key: \"deceasedName\", type: 'text' },\r\n                                        { label: \"Deceased Date\", key: \"deceasedDate\", type: 'date' },\r\n                                        { label: \"Address\", key: \"address\", type: 'text' },\r\n                                        { label: \"Contact Number\", key: \"contactNumber\", type: 'text' }\r\n                                    ],\r\n                                    toolbarButtons: [\r\n                                        { label: 'Add Contact', icon: 'fa-solid fa-plus', bg: 'bg-blue-500', textClass: 'text-white', onClick: () => setOpenCreateModal(true) },\r\n                                        { label: 'Edit Selected', icon: 'fa-solid fa-pencil', onClick: (e) => { handleEditClick(e) } },\r\n                                        { label: `(${selectedElements.length}) Remove Selected`, icon: 'fa fa-trash', textClass:'text-white', bg: 'bg-red-500 text-white', onClick: handleRemoveSelected },\r\n                                    ],\r\n                                    rowRenderer: (row) => (\r\n                                        <>\r\n                                            <td className=\"p-2\">#{(row.id ?? '').toString().padStart(3, \"0\")}</td>\r\n                                            <td className=\"p-2\">{row.familyName ?? row.family_name ?? row.family}</td>\r\n                                            <td className=\"p-2\">{row.deceasedName ?? row.deceased_name ?? row.deceased}</td>\r\n                                            <td className=\"p-2\">{new Intl.DateTimeFormat('en-US').format(new Date(row.deceased_date ?? ''))}</td>\r\n                                            <td className=\"p-2\">{row.address ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.contactNumber ?? row.contact_number ?? ''}</td>\r\n                                            <td className=\"p-2\"><StatusTag status={row.status ?? ''} />\r\n                                    </td>\r\n                                        </>\r\n                                    )\r\n                                },\r\n                                Occupants: {\r\n                                    columns: [\r\n                                        { label: \"\", key: \"_select\" },\r\n                                        { label: \"Occupant ID\", key: \"id\", type: 'number' },\r\n                                        { label: \"Name\", key: \"name\", type: 'text' },\r\n                                        { label: \"Date of Interment\", key: \"dateOfInterment\", type: 'date' },\r\n                                        { label: \"Niche\", key: \"niche\", type: 'text' }\r\n                                    ],\r\n                                    toolbarButtons: [\r\n                                        { label: 'Add Occupant', icon: 'fa-solid fa-plus', bg: 'bg-blue-500', textClass: 'text-white', onClick: () => setOpenCreateModal(true) },\r\n                                        { label: 'Edit Selected', icon: 'fa-solid fa-pencil', onClick: (e) => { handleEditClick(e) } },\r\n                                        { label: `(${selectedElements.length}) Remove Selected`, icon: 'fa fa-trash', bg: 'bg-red-500', textClass: 'text-white', onClick: handleRemoveSelected },\r\n                                    ],\r\n                                    rowRenderer: (row) => (\r\n                                        <>\r\n                                            <td className=\"p-2\">#{(row.id ?? '').toString().padStart(3, \"0\")}</td>\r\n                                            <td className=\"p-2\">{row.name ?? row.full_name ?? ''}</td>\r\n                                            <td className=\"p-2\">{new Intl.DateTimeFormat('en-US').format(new Date(row.interment_date)) ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.niche ?? ''}</td>\r\n                                        </>\r\n                                    )   \r\n                                },\r\n                                Niches: {\r\n                                    columns: [\r\n                                        { label: \"\", key: \"_select\" },\r\n                                        { label: \"Niche ID\", key: \"id\", type: 'number' },\r\n                                        { label: \"Deceased's Name\", key: \"name\", type: 'text' },\r\n                                        { label: \"Location\", key: \"location\", type: 'text' },\r\n                                        { label: \"Status\", key: \"status\", type: 'text' }\r\n                                    ],\r\n                                    toolbarButtons: [\r\n                                        { label: 'Add Niche', icon: 'fa-solid fa-plus', bg: 'bg-blue-500', textClass: 'text-white', onClick: () => setOpenCreateModal(true) },\r\n                                        { label: 'Edit Selected', icon: 'fa-solid fa-pencil', onClick: () => {} },\r\n                                        { label: `(${selectedElements.length}) Remove Selected`, icon: 'fa fa-trash', bg: 'bg-red-500', textClass: 'text-white', onClick: () => {} },\r\n                                    ],\r\n                                    rowRenderer: (row) => (\r\n                                        <>\r\n                                            <td className=\"p-2\">#{(row.id ?? '').toString().padStart(3, \"0\")}</td>\r\n                                            <td className=\"p-2\">{row.name ?? row.deceased_name ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.location ?? ''}</td>\r\n                                            <td className=\"p-2\"><StatusTag status={row.status ?? ''} /></td>\r\n                                        </>\r\n                                    )\r\n                                },\r\n                                Audit: {\r\n                                    columns: [\r\n                                        { label: \"User\", key: \"user\", type: 'text' },\r\n                                        { label: \"Role\", key: \"role\", type: 'text' },\r\n                                        { label: \"IP Address\", key: \"ip_address\", type: 'text' },\r\n                                        { label: \"Object ID\", key: \"object_id\", type: 'text' },\r\n                                        { label: \"Action\", key: \"action\", type: 'text' },\r\n                                        { label: \"Application\", key: \"app\", type: 'text' },\r\n                                        { label: \"URL\", key: \"path\", type: 'text' },\r\n                                        { label: \"Timestamp\", key: \"timestamp\", type: 'date' },\r\n                                    ],\r\n                                    toolbarButtons: [],\r\n                                    rowRenderer: (row) => (\r\n                                        <>\r\n                                            <td className=\"p-2\">{row.user ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.role ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.ip_address ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.response_data?.id ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.action ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.app ?? ''}</td>\r\n                                            <td className=\"p-2\">{row.path ?? ''}</td>\r\n                                            <td className=\"p-2\">{new Intl.DateTimeFormat('en-US', {year:'numeric', month:'numeric',day:'numeric', hour:'numeric', minute:'numeric', second:'numeric'}).format(new Date(row.timestamp))}</td>\r\n                                        </>\r\n                                    )\r\n                                }\r\n                                // Add other tabs here\r\n                            }\r\n\r\n                            const cfg = tabs[selectedTab];\r\n                            if (!cfg) return null;\r\n\r\n                            return (\r\n                                <TabContent\r\n                                    title={selectedTab}\r\n                                    searchQuery={searchQuery}\r\n                                    onSearchChange={setSearchQuery}\r\n                                    toolbarButtons={cfg.toolbarButtons}\r\n                                    columns={cfg.columns}\r\n                                    data={elements.length > 0 ? elements : []}\r\n                                    selectedItems={selectedElements}\r\n                                    onSelectAll={handleSelectAll}\r\n                                    onSelectRow={handleSelectRow}\r\n                                    getRowKey={(row) => row.id}\r\n                                    onFilterChange={(value) => setFilter(value)}\r\n                                >\r\n                                    {cfg.rowRenderer}\r\n                                </TabContent>\r\n                            )\r\n                        })()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            { openCreateModal && <CreateNewElement tab={selectedTab} onCreate={handleCreate} fields={fieldsByTab[selectedTab]} /> }\r\n            { /* EditElement modal can be added here similarly when needed */ }\r\n            { showEditModal && <EditElement tab={selectedTab} elementData={elementToEdit} fields={fieldsByTab[selectedTab]} onEdit={handleEdit} />}\r\n\r\n            <div ref={accountModalRef}>\r\n                <AccountModal isOpen={openAccountModal} username={username} role={sessionStorage.getItem(\"role\") || 'Staff'} />\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}